{% extends 'base.html' %} {% load static %} {% block title %} Home {% endblock title %} {% block head %}
<link rel="stylesheet" href="{%  static  'css/home.css'  %}" />
<link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
  integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
  crossorigin="" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />

<script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>

<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
  integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
  crossorigin=""></script>
{% endblock head %}
{% block topbar %}
{% include 'components/topbar.html' %}
{% endblock topbar %}
{% block body %}

<main class="relative">
  <div class="fixed inset-0 h-[100vh] w-[100vw] backdrop-blur-xl z-[999] flex items-center justify-center" id="modal">
    <div class="w-[90%] md:h-[60%] h-[80%] text-center  md:w-[50%] rounded-xl shadow-xl bg-white relative " >
      <button id="modal_close" class="p-2 shadow-2xl absolute right-2 top-2 shadow-inner rounded-2xl z-[9999]"><span class="material-symbols-outlined font-black text-3xl cursor-pointer">
        close
        </span></button>
      <div class="flex items-center justify-center absolute inset-0">

        <img src="{% static 'images/cce_square.png'%}" alt="logo" class="md:h-full w-full md:w-auto opacity-[0.2]">
      </div>
      <h2 class="text-center my-5 text-4xl font-black text-blue-700 mt-16 md:mt-6">Anouncements</h2>
<div class="flex flex-col justify-center items-center space-y-3">

  <h2 class="text-2xl">{{anouncement.title}}</h2>
  <div class="max-h-[350px] overflow-clip">

    <img src="{{anouncement.image.url}}" alt="anouncemnet" class="w-[210px]">
  </div>
  <p class="md:px-24 px-7 text-justify my-3">{{anouncement.description}}</p>
  <p>{{anouncement.date}}</p>
  <a href="{{anouncement.link}}" target="_blank" class="font-black text-blue-500 flex items-center">{{anouncement.link_name}} <span class="material-symbols-outlined mx-4">
    link
    </span></a>
</div>

    </div>



  </div>

<section class="home_section relative h-[100vh] overflow-clip ">
  <div class="w-[100vw] h-[100vh] -z-1  ">
    {% comment %} <video src="{% static 'images/Sunset.mp4'%}" autoplay loop {% endcomment %}
      {% comment %} class="w-full absolute bottom-0 top-0 min-w-full min-h-full "></video> {% endcomment %}
      <img src="{% static 'images/home.jpg' %}" class= "w-full h-full object-cover object-center absolute" />
  </div>
  <div class="absolute top-0 left-0 w-[100vw] md:h-[100vh] h-[100vh] bg-[#11111d8c] img-overlay"></div>
  <div class="absolute  inset-0  flex flex-col justify-center items-center space-y-6 ">
    <div class="w-[180px] h-[180px]">

      <img src="{% static 'images/cce_square.png' %}" alt="cce_Logo" class="w-full h-full">
    </div>
      <h1 class="text-3xl font-black text-white md:text-5xl uppercase text-center">Christ College of Engineering And Technology</h1>
  </div>
  <a href="#content" class="flex w-full justify-center animate-bounce z-[50]  absolute bottom-24" id="down-icon">

    <img src="{%  static  'images/chevrons-down.svg'  %}" alt="chevrons-down" class="" />
  </a>

</section>

<section class="grid grid-cols-1 md:grid-cols-2 h-auto min-h-[100vh] lg:px-11 mt-11 place-items-center" id="content">
  <div class="flex flex-col items-center  justify-center text-center h-full col-span-1 ">
    <h1 class="text-5xl font-bold mb-11">About Us</h1>
    <p class="px-11 text-justify">Christ College of Engineering (CCE), established in 2015, is affiliated to APJ Abdul
      Kalam Technological University, Thiruvananthapuram; and is recognized by AICTE, New Delhi. This college was
      founded at a time when venturing into starting a new engineering college was not considered as a sensible idea. In
      its short span of existence, exceeding all expectations and proving all critics wrong, Christ College of
      Engineering has managed to create ripples on the academic front in the university examinations, so much so that
      today the college is being accepted as one of the best self-financing engineering colleges in Kerala. Initially,
      this project was taken up by the CMI Fathers at Christ Monastery, Irinjalakuda. The College is now managed
      directly by the CMI Provincialate, Devamatha Province, Thrissur, through the Christ Educational and Charitable
      Trust. The college is a testament to the patronage enjoyed by the CMI congregation.
      <br />
      Today, Christ College of Engineering is well on its way to becoming a much sought-after destination for
      engineering education due to the efforts of all stakeholders. Staff and students are at the center of this success
      story. No stone is being left unturned in ensuring that along with academics, the students get the right amount of
      exposure required for tomorrowâ€™s successful global citizen, through the various initiatives held at this campus.
      With the kind of transformative learning model in place here, the college is on its way to making a positive
      impact on our society and nation at large. Career excellence is not the sole emphasis here; holistic training is
      also imparted to mould the character of the students and make them altruistic.
    </p>

   
  </div>

  <div class="relative w-full">
    <div class="w-full h-auto flex items-center justify-center lg:p-11 pr-0   flex-col px-6 ">
      <div class=" xl:w-[70%] w-full h-full bg-white shadow-xl rounded-md p-8">
        <h1 class="text-center mb-4 font-bold text-xl">Upcoming Events</h1>
        <div class="swiper2 overflow-x-clip">
          <div class="swiper-wrapper ">
            {% for event in upcomingEvents %}

            <div class="swiper-slide">
              <div class="relative">
                <div class="w-full  flex items-center justify-center">
                  <img src="{{event.img.url}}" class="max-h-[500px]" />
                </div>

                <div class='w-full flex pt-3 items-center'>
                  <div class='border-2 border-blue-300 h-full w-[50px] text-center  rounded-md'>
                    <h1 class='font-bold text-xl px-1'>
                      {{event.date.day}}
                    </h1>
                    <h2 class='border-t-2 border-blue-500 px-1 font-bold' id='upcomingMonth'>
                      {{event.date.month}}
                    </h2>
                  </div>
                  <div class="mx-3 w-[4px] bg-blue-500 mt-3"></div>
                  <div class='pl-1'>
                    <h1 class='font-bold'>{{event.title}}</h1>
                    <p class='text-xs pb-4'>{{event.sub_title}}</p>
                  </div>
                </div>
              </div>
            </div>


            {% endfor %}


          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
  </div>
  </div>
  <div class="w-full  md:col-span-2  flex items-center justify-center">
  <div class="grid place-content-center md:grid-cols-3 grid-cols-1 w-[90%] mt-11 px-auto xl:w-[50%]  justify-self-center  mx-auto ">
    <div class="col-span-1  mx-auto p-6 text-center bg-[#c5e29f] w-full min-h-[200px] grid place-content-center group"
      id='Vision'>
      <h1 class="font-bold text-2xl mb-2 ">Vision</h1>
      <p class="block">To be a premier institution that nurtures professionally competent and socially responsible
        engineers through quality technical education, research and training.</p>
    </div>
    <div
      class="col-span-2 mx-auto p-6 text-center bg-[#a1d9f2] w-full min-h-[200px] grid place-content-center group z-100"
      id='Mission'>
      <h1 class="font-bold text-2xl mb-2 ">Mission</h1>
      <p class="block text-left">1. Implement the best teaching-learning practices with qualified faculty and
        supportive
        infrastructure to impart knowledge in modern technology.
        <br />
        2. Create a quality education system that encourages faculty and students to involve in
        meaningful research for the benefit of society.
        <br />
        3. Inculcate leadership qualities, ethical values and foster the notion of lifelong learning in
        students.
      </p>
    </div>
  </div>
</div>
</section>


<section>
  <div class="md:w-[80%] w-full mx-auto  my-24 overflow-x-clip">
    <div class="flex md:flex-row flex-col space-y-3 md:space-y-0 items-center justify-between mb-4">
      <h1 class="font-black text-5xl">Achivements</h1>
    </div>


    <!-- Slider main container -->
    <div class="swiper3 ">
      <!-- Additional required wrapper -->
      <div class="swiper-wrapper ">
        {% for item in achivements %}
        <div class="swiper-slide ">
          <div class="w-full flex items-center justify-center h-[500px] max-w-[400px] overflow-clip object-center">
            <img src="{{item.image.url}}" class="rounded-xl h-full object-center" />

          </div>

        </div>
        {% endfor %}
      </div>

    </div>

  </div>
</section>

<section class="w-[100vw] h-auto flex justify-center items-center flex-col p-6 snap-start">
  <div class="md:w-[80%] w-full">
    <div class="flex md:flex-row flex-col space-y-3 md:space-y-0 items-center justify-between mb-4">
      <h1 class="font-black text-5xl">Events</h1>
      <a href="/gallery" class="bg-[#007FFF] p-2 md:pl-6 md:pr-6 rounded-md font-bold text-white">Explore More</a>
    </div>
    {% for item in Events %}

    <div class="w-full grid gap-4 grid-cols-2 lg:grid-cols-3 place-items-center">
      <img src="{{item.img1.url}}" class=" " alt="happenings-img" srcset="">
      <img src="{{item.img2.url}}" class="hidden lg:block" alt="happenings-img" srcset="">
      <img src="{{item.img3.url}}" alt="happenings-img" class="" srcset="">

      <img src="{{item.img4.url}}" class="col-start-1 col-end-3 w-full md:w-auto md:col-start-0 md:col-end-1 "
        alt="happenings-img" srcset="">

      <div
        class="p-5 md:col-start-2 md:col-end-3  lg:col-end-4 col-start-1 col-end-3 w-full md:bg-white bg-[#0973B9] md:mt-0 mt-[-10%] md:text-black text-white">
        <h1 class="text-3xl font-black">{{item.heading}}</h1>
        <p class="text-xl font-semibold">{{item.sub_heading}}</p>
        <p>
          {{item.sub_text}}
        </p>
        <button class="border-[1px] border-[#007FFF] p-3 rounded-md mt-2">See More</button>
      </div>
      {% endfor %}

    </div>

  </div>

</section>





<section class="w-[100vw] h-auto pt-11 pb-11 bg-[#F9F9F9] flex items-center justify-center " id="counterSection">
  <div class="w-[80%] flex items-center justify-between md:flex-row flex-col md:space-y-0 space-y-24 ">
    <div class="flex-col justify-center flex items-center">
      <h1 class="text-5xl font-black" id="students_counter">0</h1>
      <p class="text-xl text-[#007FFF]">STUDENTS</p>
    </div>
    <div class="flex-col justify-center flex items-center">
      <h1 class="text-5xl font-black" id="faculty_counter">0</h1>
      <p class="text-xl text-[#007FFF]"> FACULTY</p>
    </div>
    <div class="flex-col justify-center flex items-center">
      <h1 class="text-5xl font-black" id="staff_counter">0</h1>
      <p class="text-xl text-[#007FFF]"> STAFFS</p>
    </div>

  </div>
</section>



<section class="recruiters bg-white pt-11 pb-11 flex flex-col justify-center items-center">
  <h1 class="text-4xl md:text-5xl font-bold"> Our Top Recruiters</h1>
  <div class="space-y-6">

    {%with recruiters=recruiters2%}
    {% include 'components/logo_marquee.html' %}
    {%endwith%}
    {%with left=True%}
    {% include 'components/logo_marquee.html' %}
    {%endwith%}
    {%with recruiters=recruiters3%}

    {% include 'components/logo_marquee.html' %}
    {%endwith%}

  </div>

</section>
{% include 'components/gallery.html' %}

<section class="testimonials w-[100vw] min-h-[80vh] flex flex-col justify-center items-center">
  <h1 class="md:text-6xl text-5xl font-bold mt-6 p-4">Testimonials</h1>

  <div class="swiper w-[90%] h-[80vh]">
    <div class="swiper-wrapper ">
      {% for item in Testimonials %}
      <div class="swiper-slide">
        <div class="w-full  h-full flex justify-center items-center ">
          <div class="w-full flex justify-center items-center flex-col">
            <div class="w-[150px]  h-[150px] overflow-clip rounded-full">
              <img src="{{item.image.url}}" alt="studentImage " class=" w-full">
            </div>
            <h1 class="text-2xl font-bold mt-3">{{item.full_name}}</h1>
            <p class="font-thin">{{item.role}}</p>

            <h2 class="text-xl mt-11 font-bold text-[#205072] text-center">{{item.department}}</h2>
            <p class="w-[70%] text-[#787070] text-center mt-2">" {{item.quote}} "</p>
            <p class="mt-11 font-bold">Batch {{item.batch}}</p>
          </div>

        </div>
      </div>
      {% endfor %}
    </div>
    <div class="swiper-pagination "></div>
    <div class="swiper-button-prev invisible md:visible "></div>
    <div class="swiper-button-next invisible md:visible"></div>

  </div>

</section>
</main>

{% endblock body %}

{% block script %}
<script src={% static 'js/marquee.js' %}></script>
<script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>

<script>
  const topbar = document.querySelector('.topbar');
  const img_overlay = document.querySelector('.img-overlay');
  img_overlay.style.bottom = topbar.getBoundingClientRect().height + "px";
  const counterSection = document.getElementById('counterSection');
  const counterStudents = document.getElementById('students_counter');
  const counterFaculty = document.getElementById('faculty_counter');
  const counterStaff = document.getElementById('staff_counter');

  $("#modal_close").click(function () {
    $("#modal").addClass("hidden");
  });

  function getOffset(el) {
    const rect = el.getBoundingClientRect();
    // console.log(rect.height);
    return {
      height: rect.height,
      left: rect.left + window.scrollX,
      top: rect.top + window.scrollY
    };
  }

  window.addEventListener('scroll', () => {
    console.log();
    if ((window.scrollY + getOffset(counterSection).height) + 300 >= getOffset(counterSection).top) {
      increment(counterStudents, 1000, 10)
      increment(counterFaculty, 70, 200)
      increment(counterStaff, 60, 500)

    }
  })
  function increment(element, finalValue, time) {
    const count = parseInt(element.innerHTML);
    if (count < finalValue) {
      element.innerHTML = count + 1 + "+";
      setTimeout(() => {
        increment(element, finalValue);
      }, time);
    }
    else if (count > finalValue) {
      element.innerHTML = finalValue + "+";
    }
  }

  const swiper_services = new Swiper('.swiper', {
    loop: true,
    pagination: {
      el: '.swiper-pagination',
    },
    autoplay: {
      delay: 3000,
    },
    slidesPerView: 3,


    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
  });
  $(window).on('resize', function () {
    var width = $(window).width();
    if (width < 1000) {
      swiper_services.params.slidesPerView = 1;
      swiper_services.params.spaceBetween = 40;
    } else {
      swiper_services.params.slidesPerView = 3;
      swiper_services.params.spaceBetween = 50;
    }

  }).resize();

  document.getElementById('down-icon').addEventListener('click', () => {
    window.scrollTo({
      top: getOffset(counterSection).top,
      behavior: 'smooth'
    })
  })

  const swiper2 = new Swiper('.swiper2', {
    speed: 400,
    spaceBetween: 100,
    slidesPerView: 1,
    autoplay: {
      delay: 6000,
    },

  });

  //{% comment %} 
  //https://codepen.io/ccallen001/pen/bEYByd 
  //{% endcomment %}

  // Footer Map Configurations

  var map = L.map('map', {
    center: [10.35891, 76.21279],
    zoom: 30
  });

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
  }).addTo(map);

  var christIcon = L.icon({
    iconUrl: "{%  static  'images/mapLogo.png'  %}",
    iconSize: [80, 80],
    popupAnchor: [0, -15]
  });

  var customPopup = `Christ College <img src="{%  static  'images/cce.png'  %}"></img><br/>`;

  var customOptions =
  {
    'maxWidth': '2900',
    'className': 'custom'
  }

  L.marker([10.35891, 76.21279], { icon: christIcon }).bindPopup(customPopup, customOptions).addTo(map);

  var months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun",
    "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

  var upcomingMonth = document.querySelectorAll('#upcomingMonth');
  upcomingMonth.forEach((item) => {
    const inner = item.innerText
    item.innerText = months[inner - 1]
  })

  const swiper = new Swiper('.swiper5454', {
    speed: 400,
    spaceBetween: 100,
  });
  var mission = document.querySelector('#Mission');
  var vision = document.querySelector('#Vision');
  vision.querySelector('p').classList.add('hidden')


  vision.addEventListener("mouseover", () => {
    mission.classList.remove('col-span-2')
    mission.classList.add('col-span-1')
    vision.classList.add('col-span-2')
    mission.querySelector('p').classList.add('hidden')
    vision.querySelector('p').classList.remove('hidden')
    console.log("fdjsdghsjdfhg")
  })
  mission.addEventListener("mouseover", () => {
    vision.classList.remove('col-span-2')
    vision.classList.add('col-span-1')
    mission.classList.add('col-span-2')
    mission.querySelector('p').classList.remove('hidden')
    vision.querySelector('p').classList.add('hidden')
  })

  const swiper_services3 = new Swiper('.swiper3', {
    loop: true,
    pagination: {
      el: '.swiper-pagination',
    },
    autoplay: {
      delay: 3000,
    },
    slidesPerView: 3,

  });
  $(window).on('resize', function () {
    var width = $(window).width();
    if (width < 1000) {
      swiper_services3.params.slidesPerView = 1;
      swiper_services3.params.spaceBetween = 40;
    } else {
      swiper_services3.params.slidesPerView = 3;
      swiper_services3.params.spaceBetween = 50;
    }

  }).resize();

</script>
{% endblock script %}